syntax = "proto3";

package confidence.shared.v1;


message VariantReadOp {
  string unit = 1;
  string materialization = 2;
  string rule = 3;
}

message InclusionReadOp {
  string unit = 1;
  string materialization = 2;
}

message ReadOp {
  oneof op {
    VariantReadOp variant_read_op = 1;
    InclusionReadOp inclusion_read_op = 2;
  }
}

message ReadOperationsRequest {
  repeated ReadOp ops = 3;
}

message VariantData {
  string unit = 1;
  string materialization = 2;
  string rule = 3;
  string variant = 4;
}

message InclusionData {
  string unit = 1;
  string materialization = 2;
  bool is_included = 3;
}

message ReadResult {
  oneof result {
    VariantData variant_result = 1;
    InclusionData inclusion_result = 2;
  }
}

message ReadOperationsResult {
  repeated ReadResult results = 1;
}